import{j as L,r as h,a as J}from"./react-92fe003e.js";import{c as Q}from"./react-dom-1ef96aba.js";import{L as W,N as X,H as Y}from"./react-router-dom-73a71a57.js";import{O as Z,d as ee,e as A}from"./react-router-0f7b1f7b.js";import{l as te}from"./react-quill-70a36966.js";import{u as ae,P as re,a as T,L as oe,S as ne,b as ie,T as w,I as se,c as f,d as ce,D as le,e as D,f as v,g as B,h as I,C as de,i as he,j as ue,k as ge}from"./@fluentui-e05771b1.js";import"./lodash-b9ab1447.js";import"./@remix-run-65e438cc.js";import"./quill-b1a40b40.js";import"./tslib-14a4c710.js";import"./@microsoft-31b40247.js";(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))d(t);new MutationObserver(t=>{for(const r of t)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&d(u)}).observe(document,{childList:!0,subtree:!0});function g(t){const r={};return t.integrity&&(r.integrity=t.integrity),t.referrerPolicy&&(r.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?r.credentials="include":t.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function d(t){if(t.ep)return;t.ep=!0;const r=g(t);fetch(t.href,r)}})();const R=L.Fragment,e=L.jsx,c=L.jsxs;const me="/assets/github-fab00c2d.svg",pe="_layout_oytan_1",ye="_header_oytan_13",_e="_headerContainer_oytan_23",ke="_headerTitleContainer_oytan_39",xe="_headerLogo_oytan_55",fe="_headerTitle_oytan_39",ve="_headerNavList_oytan_73",Le="_headerNavPageLink_oytan_85",Ce="_headerNavPageLinkActive_oytan_113",Ne="_headerNavLeftMargin_oytan_123",Pe="_headerRightText_oytan_131",Se="_microsoftLogo_oytan_141",be="_githubLogo_oytan_151",s={layout:pe,header:ye,headerContainer:_e,headerTitleContainer:ke,headerLogo:xe,headerTitle:fe,headerNavList:ve,headerNavPageLink:Le,headerNavPageLinkActive:Ce,headerNavLeftMargin:Ne,headerRightText:Pe,microsoftLogo:Se,githubLogo:be},Ae=()=>c("div",{className:s.layout,children:[e("header",{className:s.header,role:"banner",children:c("div",{className:s.headerContainer,children:[e(W,{to:"/",className:s.headerTitleContainer,children:e("h3",{className:s.headerTitle,children:"GPT + Dalle2 | Sample"})}),e("nav",{children:c("ul",{className:s.headerNavList,children:[e("li",{children:e(X,{to:"/",className:({isActive:o})=>o?s.headerNavPageLinkActive:s.headerNavPageLink,children:"Copywriting"})}),e("li",{className:s.headerNavLeftMargin,children:e("a",{href:"https://aka.ms/entgptsearch",target:"_blank",title:"Github repository link",children:e("img",{src:me,alt:"Github logo","aria-label":"Link to github repository",width:"20px",height:"20px",className:s.githubLogo})})})]})}),e("h4",{className:s.headerRightText,children:"Azure ChatGPT + Dall-E2"})]})}),e(Z,{})]}),Te="_ck_15cr4_1",we="_ckeditor_15cr4_41",De={ck:Te,"ck-word-count":"_ck-word-count_15cr4_1","ck-word-count__words":"_ck-word-count__words_15cr4_23","ck-rounded-corners":"_ck-rounded-corners_15cr4_31","ck-editor__main":"_ck-editor__main_15cr4_31","ck-editor__editable":"_ck-editor__editable_15cr4_31","ck-source-editing-area":"_ck-source-editing-area_15cr4_33",ckeditor:we},Be=({data:o,onChange:i})=>e("div",{className:De.ckeditor,children:e(te,{value:o,onChange:i,theme:"snow"})}),Ie="_container_kk4ox_1",Re="_loadingLogo_kk4ox_11",Me="_commandsContainer_kk4ox_19",Ee="_commandButton_kk4ox_29",Oe="_generateButton_kk4ox_37",Fe="_editorContainer_kk4ox_43",je="_editor_kk4ox_43",He="_previewContainer_kk4ox_67",n={container:Ie,loadingLogo:Re,commandsContainer:Me,commandButton:Ee,generateButton:Oe,editorContainer:Fe,editor:je,previewContainer:He};async function Ge(o){var d,t,r,u;const i=await fetch("/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({approach:o.approach,title:o.title,title_description:o.titleDescription,overrides:{paragraphs:(d=o.overrides)==null?void 0:d.paragraphs,max_paragraph_length:(t=o.overrides)==null?void 0:t.maxParagraphLength,use_dalle:(r=o.overrides)==null?void 0:r.useDalle,art_style:(u=o.overrides)==null?void 0:u.artStyle}})}),g=await i.json();if(i.status>299||!i.ok)throw Error(g.error||"Unknown error");return g}const qe={root:{marginRight:8}},Ue={childrenGap:10,padding:10},ze=()=>{const[o,{setTrue:i,setFalse:g}]=ae(!1),[d,t]=h.useState(""),[r,u]=h.useState(""),[C,M]=h.useState(5),[N,E]=h.useState(100),[_,O]=h.useState(!0),[P,p]=h.useState(!1),[k,y]=h.useState(),[S,x]=h.useState(""),[m,F]=h.useState(["Landscape Photography"]),j=[{key:"Baroque",text:"巴洛克风格"},{key:"Rococo",text:"洛可可风格"},{key:"Romanticism",text:"浪漫主义"},{key:"Realism",text:"现实主义"},{key:"Impressionism",text:"印象派"},{key:"Post-Impressionism",text:"后印象派"},{key:"Expressionism",text:"表现主义"},{key:"Fauvism",text:"野兽派"},{key:"Cubism",text:"立体主义"},{key:"Futurism",text:"未来主义"},{key:"Dadaism",text:"达达主义"},{key:"Surrealism",text:"超现实主义"},{key:"Abstract Expressionism",text:"抽象表现主义"},{key:"Pop Art",text:"波普艺术"},{key:"Op Art",text:"视觉艺术"},{key:"Minimalism",text:"极简主义"},{key:"Conceptual Art",text:"观念艺术"},{key:"Photorealism",text:"超写实主义"},{key:"Neo-Expressionism",text:"新表现主义"},{key:"Neo-Pop Art",text:"新波普艺术"},{key:"Hyperrealism",text:"超现实主义"},{key:"Graffiti Art",text:"涂鸦艺术"},{key:"Street Art",text:"街头艺术"},{key:"Outsider Art",text:"非主流艺术"},{key:"Feminist Art",text:"女性主义艺术"},{key:"Environmental Art",text:"环境艺术"},{key:"Land Art",text:"土地艺术"},{key:"Body Art",text:"身体艺术"},{key:"Performance Art",text:"行为艺术"},{key:"New Media Art",text:"新媒体艺术"},{key:"Installations Art",text:"装置艺术"},{key:"Video Art",text:"录像艺术"},{key:"Conceptual Photography",text:"观念摄影"},{key:"Documentary Photography",text:"纪实摄影"},{key:"Fine Art Photography",text:"艺术摄影"},{key:"Street Photography",text:"街头摄影"},{key:"Portrait Photography",text:"肖像摄影"},{key:"Landscape Photography",text:"风景摄影"},{key:"Still Life Photography",text:"静物摄影"},{key:"Graphic Design",text:"平面设计"},{key:"Motion Graphics",text:"动态图形设计"},{key:"Art Deco",text:"装饰艺术"},{key:"Arts and Crafts",text:"艺术与手工艺"},{key:"Bauhaus",text:"包豪斯"},{key:"Art Nouveau",text:"新艺术"},{key:"Ukiyo-e",text:"浮世绘"},{key:"Haida Art",text:"海达艺术"},{key:"African Art",text:"非洲艺术"},{key:"Indigenous Art",text:"土著艺术"},{key:"Renaissance",text:"文艺复兴"}],H=l=>{x(l)},G=(l,a,Ke)=>{a&&F(a.selected?[...m,a.key]:m.filter($=>$!==a.key)),console.log("artStyle:"+m)},q=(l,a)=>{console.log("title:"+a),t(a||"")},U=(l,a)=>{console.log("titleDescription:"+a),u(a||"")},z=(l,a)=>{M(parseInt(a||"5"))},V=(l,a)=>{E(parseInt(a||"100"))},K=(l,a)=>{O(!!a)},b=async()=>{if(k&&y(void 0),p(!0),x(""),!d){y("标题不能为空"),p(!1);return}if(!r){y("标题描述不能为空"),p(!1);return}try{const a=await Ge({approach:"gpt_with_dalle2",title:d,titleDescription:r,overrides:{paragraphs:C,maxParagraphLength:N,useDalle:_,artStyle:m}});console.log(a.copywriteHTML),x(a.copywriteHTML)}catch(l){y(l)}finally{p(!1)}};return c("div",{className:n.container,children:[e("div",{className:n.editorContainer,children:c(re,{className:n.editor,children:[c(T,{headerText:"编辑器",itemIcon:"Edit",children:[P&&c(R,{children:[e(oe,{children:"正在生成文案，请稍候"}),e(ne,{label:"正在生成文案，请稍候"})]}),!P&&e(R,{children:e(Be,{data:S,onChange:H})})]}),e(T,{headerText:"预览",itemIcon:"Globe",children:k?e("div",{className:n.previewContainer,children:c(ie,{tokens:Ue,children:[c(w,{variant:"xLarge",children:[e(se,{iconName:"Error"})," 生成失败"]}),e(w,{children:k.toString()}),e(f,{onClick:b,children:"重试"})]})}):e("div",{className:n.previewContainer,children:e("div",{dangerouslySetInnerHTML:{__html:S}})})})]})}),e("div",{className:n.commandsContainer,children:e(f,{className:n.commandButton,iconProps:{iconName:"Lightbulb"},onClick:()=>i(),children:"文案配置"})}),e("div",{children:e("div",{className:n.chatRoot,children:c(ce,{headerText:"配置",isOpen:o,isBlocking:!1,closeButtonAriaLabel:"Close",onRenderFooterContent:()=>c("div",{children:[e(f,{onClick:b,styles:qe,iconProps:{iconName:"Lightbulb"},children:"生成"}),e(le,{onClick:g,children:"取消"})]}),onDismiss:g,isFooterAtBottom:!0,children:[e(D,{className:n.chatSettingsSeparator,defaultValue:d,label:"文案标题",multiline:!0,autoAdjustHeight:!0,onChange:q,required:!0}),e(D,{className:n.chatSettingsSeparator,defaultValue:r,label:"文案主要内容",multiline:!0,autoAdjustHeight:!0,onChange:U,required:!0}),e(v,{}),e(B,{className:n.chatSettingsSeparator,labelPosition:I.top,label:"文案分为几段",min:1,max:50,defaultValue:C.toString(),onChange:z}),e(v,{}),e(B,{className:n.chatSettingsSeparator,labelPosition:I.top,label:"每一段最多多少字",min:10,max:500,defaultValue:N.toString(),onChange:V}),e(v,{}),e(de,{className:n.chatSettingsSeparator,checked:_,label:"是否生成图片",onChange:K}),_&&e(he,{placeholder:"选择图片风格",label:"图片风格",selectedKeys:m,onChange:G,multiSelect:!0,options:j})]})})})]})};ue();ge();function Ve(){return e(Y,{children:e(ee,{children:e(A,{path:"/",element:e(Ae,{}),children:e(A,{index:!0,element:e(ze,{})})})})})}Q.createRoot(document.getElementById("root")).render(e(J.StrictMode,{children:e(Ve,{})}));
//# sourceMappingURL=index-543c4e9b.js.map
